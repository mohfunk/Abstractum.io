{"id":"rqeI","dependencies":[{"name":"/Users/moh/ws/moh/personal/moh.page/package.json","includedInParent":true,"mtime":1564574743497},{"name":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/package.json","includedInParent":true,"mtime":1564279111560},{"name":"./setDelay","loc":{"line":3,"column":23},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/function/internal/createLazyFunction.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/function/internal/setDelay.js"},{"name":"../../common/var/mathAliases","loc":{"line":4,"column":26},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/function/internal/createLazyFunction.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/common/var/mathAliases.js"}],"generated":{"js":"\"use strict\";var r=require(\"./setDelay\"),t=require(\"../../common/var/mathAliases\"),e=t.max,n=t.ceil,i=t.round;function o(t,o,u,a){var s,f,l,p,c=[],h=!1;function m(){if(c.length<a-(h&&u?1:0)){for(var t=[],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);c.push([this,t])}return h||(h=!0,u?s():r(m,f,s)),p}return a=a||1/0,f=n(o=o||1),l=i(f/o)||1,s=function(){var n,i=c.length;if(0!=i){for(n=e(i-l,0);i>n;)p=Function.prototype.apply.apply(t,c.shift()),i--;r(m,f,function(){h=!1,s()})}},m}module.exports=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"setDelay","original":{"line":3,"column":4},"generated":{"line":1,"column":17}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"require","original":{"line":3,"column":15},"generated":{"line":1,"column":19}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":3,"column":23},"generated":{"line":1,"column":27}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"mathAliases","original":{"line":4,"column":4},"generated":{"line":1,"column":41}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"require","original":{"line":4,"column":18},"generated":{"line":1,"column":43}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":4,"column":26},"generated":{"line":1,"column":51}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"max","original":{"line":6,"column":4},"generated":{"line":1,"column":83}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"mathAliases","original":{"line":6,"column":10},"generated":{"line":1,"column":85}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"max","original":{"line":6,"column":22},"generated":{"line":1,"column":87}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"ceil","original":{"line":7,"column":4},"generated":{"line":1,"column":91}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"mathAliases","original":{"line":7,"column":11},"generated":{"line":1,"column":93}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"ceil","original":{"line":7,"column":23},"generated":{"line":1,"column":95}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"round","original":{"line":8,"column":4},"generated":{"line":1,"column":100}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"mathAliases","original":{"line":8,"column":12},"generated":{"line":1,"column":102}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"round","original":{"line":8,"column":24},"generated":{"line":1,"column":104}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":10,"column":0},"generated":{"line":1,"column":110}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"createLazyFunction","original":{"line":10,"column":9},"generated":{"line":1,"column":119}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"fn","original":{"line":10,"column":28},"generated":{"line":1,"column":121}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"ms","original":{"line":10,"column":32},"generated":{"line":1,"column":123}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"immediate","original":{"line":10,"column":36},"generated":{"line":1,"column":125}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"limit","original":{"line":10,"column":47},"generated":{"line":1,"column":127}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queue","original":{"line":11,"column":6},"generated":{"line":1,"column":130}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"execute","original":{"line":11,"column":34},"generated":{"line":1,"column":134}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"rounded","original":{"line":11,"column":43},"generated":{"line":1,"column":136}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"perExecution","original":{"line":11,"column":52},"generated":{"line":1,"column":138}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"result","original":{"line":11,"column":66},"generated":{"line":1,"column":140}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queue","original":{"line":11,"column":6},"generated":{"line":1,"column":142}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":11,"column":14},"generated":{"line":1,"column":144}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"locked","original":{"line":11,"column":18},"generated":{"line":1,"column":147}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":11,"column":27},"generated":{"line":1,"column":150}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"lazy","original":{"line":32,"column":11},"generated":{"line":1,"column":152}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"lazy","original":{"line":32,"column":11},"generated":{"line":1,"column":161}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queue","original":{"line":35,"column":8},"generated":{"line":1,"column":165}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queue","original":{"line":35,"column":8},"generated":{"line":1,"column":168}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"length","original":{"line":35,"column":14},"generated":{"line":1,"column":170}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"limit","original":{"line":35,"column":23},"generated":{"line":1,"column":177}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"locked","original":{"line":35,"column":32},"generated":{"line":1,"column":180}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"immediate","original":{"line":35,"column":42},"generated":{"line":1,"column":183}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":35,"column":54},"generated":{"line":1,"column":185}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":35,"column":58},"generated":{"line":1,"column":187}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":35,"column":62},"generated":{"line":1,"column":190}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":37,"column":25},"generated":{"line":1,"column":191}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"args","original":{"line":37,"column":10},"generated":{"line":1,"column":195}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"args","original":{"line":37,"column":10},"generated":{"line":1,"column":199}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":37,"column":17},"generated":{"line":1,"column":201}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"$i","original":{"line":37,"column":29},"generated":{"line":1,"column":204}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":37,"column":34},"generated":{"line":1,"column":206}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"$len","original":{"line":37,"column":37},"generated":{"line":1,"column":208}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"arguments","original":{"line":37,"column":44},"generated":{"line":1,"column":210}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"length","original":{"line":37,"column":54},"generated":{"line":1,"column":220}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"$i","original":{"line":37,"column":62},"generated":{"line":1,"column":227}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"$len","original":{"line":37,"column":67},"generated":{"line":1,"column":229}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"$i","original":{"line":37,"column":73},"generated":{"line":1,"column":231}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"args","original":{"line":37,"column":79},"generated":{"line":1,"column":235}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"push","original":{"line":37,"column":84},"generated":{"line":1,"column":237}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"arguments","original":{"line":37,"column":89},"generated":{"line":1,"column":242}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"$i","original":{"line":37,"column":99},"generated":{"line":1,"column":252}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queue","original":{"line":38,"column":6},"generated":{"line":1,"column":256}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"push","original":{"line":38,"column":12},"generated":{"line":1,"column":258}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":38,"column":17},"generated":{"line":1,"column":263}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":38,"column":18},"generated":{"line":1,"column":264}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"args","original":{"line":38,"column":24},"generated":{"line":1,"column":269}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"result","original":{"line":49,"column":11},"generated":{"line":1,"column":273}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"locked","original":{"line":40,"column":9},"generated":{"line":1,"column":280}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"locked","original":{"line":41,"column":6},"generated":{"line":1,"column":284}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":41,"column":15},"generated":{"line":1,"column":287}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"immediate","original":{"line":42,"column":10},"generated":{"line":1,"column":289}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"execute","original":{"line":43,"column":8},"generated":{"line":1,"column":291}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"setDelay","original":{"line":45,"column":8},"generated":{"line":1,"column":295}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"lazy","original":{"line":45,"column":17},"generated":{"line":1,"column":297}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"rounded","original":{"line":45,"column":23},"generated":{"line":1,"column":299}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"execute","original":{"line":45,"column":32},"generated":{"line":1,"column":301}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"result","original":{"line":49,"column":11},"generated":{"line":1,"column":305}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"lazy","original":{"line":51,"column":9},"generated":{"line":1,"column":307}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"limit","original":{"line":13,"column":2},"generated":{"line":1,"column":314}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"limit","original":{"line":13,"column":10},"generated":{"line":1,"column":316}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"Infinity","original":{"line":13,"column":19},"generated":{"line":1,"column":319}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"Infinity","original":{"line":13,"column":19},"generated":{"line":1,"column":321}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"rounded","original":{"line":14,"column":2},"generated":{"line":1,"column":323}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"ceil","original":{"line":14,"column":12},"generated":{"line":1,"column":325}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"ms","original":{"line":12,"column":2},"generated":{"line":1,"column":327}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"ms","original":{"line":12,"column":7},"generated":{"line":1,"column":329}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":12,"column":13},"generated":{"line":1,"column":332}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"perExecution","original":{"line":15,"column":2},"generated":{"line":1,"column":335}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"round","original":{"line":15,"column":17},"generated":{"line":1,"column":337}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"rounded","original":{"line":15,"column":23},"generated":{"line":1,"column":339}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"ms","original":{"line":15,"column":33},"generated":{"line":1,"column":341}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":15,"column":40},"generated":{"line":1,"column":345}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"execute","original":{"line":16,"column":2},"generated":{"line":1,"column":347}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":16,"column":12},"generated":{"line":1,"column":349}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queueLength","original":{"line":17,"column":8},"generated":{"line":1,"column":360}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"maxPerRound","original":{"line":17,"column":36},"generated":{"line":1,"column":364}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queueLength","original":{"line":17,"column":8},"generated":{"line":1,"column":366}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queue","original":{"line":17,"column":22},"generated":{"line":1,"column":368}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"length","original":{"line":17,"column":28},"generated":{"line":1,"column":370}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queueLength","original":{"line":18,"column":8},"generated":{"line":1,"column":377}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":18,"column":23},"generated":{"line":1,"column":380}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queueLength","original":{"line":18,"column":8},"generated":{"line":1,"column":383}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queueLength","original":{"line":18,"column":8},"generated":{"line":1,"column":385}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queueLength","original":{"line":22,"column":10},"generated":{"line":1,"column":386}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"maxPerRound","original":{"line":21,"column":4},"generated":{"line":1,"column":390}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"max","original":{"line":21,"column":18},"generated":{"line":1,"column":392}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queueLength","original":{"line":21,"column":22},"generated":{"line":1,"column":394}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"perExecution","original":{"line":21,"column":36},"generated":{"line":1,"column":396}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":21,"column":50},"generated":{"line":1,"column":398}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queueLength","original":{"line":22,"column":10},"generated":{"line":1,"column":401}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"maxPerRound","original":{"line":22,"column":24},"generated":{"line":1,"column":403}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"result","original":{"line":24,"column":6},"generated":{"line":1,"column":406}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"Function","original":{"line":24,"column":15},"generated":{"line":1,"column":408}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"prototype","original":{"line":24,"column":24},"generated":{"line":1,"column":417}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"apply","original":{"line":24,"column":34},"generated":{"line":1,"column":427}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"apply","original":{"line":24,"column":40},"generated":{"line":1,"column":433}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"fn","original":{"line":24,"column":46},"generated":{"line":1,"column":439}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queue","original":{"line":24,"column":50},"generated":{"line":1,"column":441}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"shift","original":{"line":24,"column":56},"generated":{"line":1,"column":443}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"queueLength","original":{"line":25,"column":6},"generated":{"line":1,"column":452}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"setDelay","original":{"line":27,"column":4},"generated":{"line":1,"column":456}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"lazy","original":{"line":27,"column":13},"generated":{"line":1,"column":458}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"rounded","original":{"line":27,"column":19},"generated":{"line":1,"column":460}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":27,"column":28},"generated":{"line":1,"column":462}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"locked","original":{"line":28,"column":6},"generated":{"line":1,"column":473}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","original":{"line":28,"column":15},"generated":{"line":1,"column":476}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"execute","original":{"line":29,"column":6},"generated":{"line":1,"column":478}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"lazy","original":{"line":51,"column":9},"generated":{"line":1,"column":486}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"module","original":{"line":54,"column":0},"generated":{"line":1,"column":488}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"exports","original":{"line":54,"column":7},"generated":{"line":1,"column":495}},{"source":"../node_modules/sugar/function/internal/createLazyFunction.js","name":"createLazyFunction","original":{"line":54,"column":17},"generated":{"line":1,"column":503}}],"sources":{"../node_modules/sugar/function/internal/createLazyFunction.js":"'use strict';\n\nvar setDelay = require('./setDelay'),\n    mathAliases = require('../../common/var/mathAliases');\n\nvar max = mathAliases.max,\n    ceil = mathAliases.ceil,\n    round = mathAliases.round;\n\nfunction createLazyFunction(fn, ms, immediate, limit) {\n  var queue = [], locked = false, execute, rounded, perExecution, result;\n  ms = ms || 1;\n  limit = limit || Infinity;\n  rounded = ceil(ms);\n  perExecution = round(rounded / ms) || 1;\n  execute = function() {\n    var queueLength = queue.length, maxPerRound;\n    if (queueLength == 0) return;\n    // Allow fractions of a millisecond by calling\n    // multiple times per actual timeout execution\n    maxPerRound = max(queueLength - perExecution, 0);\n    while(queueLength > maxPerRound) {\n      // Getting uber-meta here...\n      result = Function.prototype.apply.apply(fn, queue.shift());\n      queueLength--;\n    }\n    setDelay(lazy, rounded, function() {\n      locked = false;\n      execute();\n    });\n  };\n  function lazy() {\n    // If the execution has locked and it's immediate, then\n    // allow 1 less in the queue as 1 call has already taken place.\n    if (queue.length < limit - (locked && immediate ? 1 : 0)) {\n      // Optimized: no leaking arguments\n      var args = []; for(var $i = 0, $len = arguments.length; $i < $len; $i++) args.push(arguments[$i]);\n      queue.push([this, args]);\n    }\n    if (!locked) {\n      locked = true;\n      if (immediate) {\n        execute();\n      } else {\n        setDelay(lazy, rounded, execute);\n      }\n    }\n    // Return the memoized result\n    return result;\n  }\n  return lazy;\n}\n\nmodule.exports = createLazyFunction;"},"lineCount":null}},"error":null,"hash":"852469386ca4035269b21b068a6383cd","cacheData":{"env":{}}}