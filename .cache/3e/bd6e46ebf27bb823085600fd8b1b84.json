{"id":"wrqA","dependencies":[{"name":"/Users/moh/ws/moh/personal/moh.page/package.json","includedInParent":true,"mtime":1564574743497},{"name":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/package.json","includedInParent":true,"mtime":1564279111560},{"name":"../../common/var/trunc","loc":{"line":3,"column":20},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/getTimeDistanceForUnit.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/common/var/trunc.js"},{"name":"./cloneDate","loc":{"line":4,"column":24},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/getTimeDistanceForUnit.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/cloneDate.js"},{"name":"./advanceDate","loc":{"line":5,"column":26},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/getTimeDistanceForUnit.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/advanceDate.js"}],"generated":{"js":"\"use strict\";var e=require(\"../../common/var/trunc\"),r=require(\"./cloneDate\"),u=require(\"./advanceDate\");function i(i,a,t){var n,m,o=a>i;if(o||(m=a,a=i,i=m),n=a-i,t.multiplier>1&&(n=e(n/t.multiplier)),t.ambiguous)for(i=r(i),n&&(n-=1,u(i,t.name,n));i<a&&(u(i,t.name,1),!(i>a));)n+=1;return o?-n:n}module.exports=i;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"trunc","original":{"line":3,"column":4},"generated":{"line":1,"column":17}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"require","original":{"line":3,"column":12},"generated":{"line":1,"column":19}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","original":{"line":3,"column":20},"generated":{"line":1,"column":27}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"cloneDate","original":{"line":4,"column":4},"generated":{"line":1,"column":53}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"require","original":{"line":4,"column":16},"generated":{"line":1,"column":55}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","original":{"line":4,"column":24},"generated":{"line":1,"column":63}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"advanceDate","original":{"line":5,"column":4},"generated":{"line":1,"column":78}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"require","original":{"line":5,"column":18},"generated":{"line":1,"column":80}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","original":{"line":5,"column":26},"generated":{"line":1,"column":88}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","original":{"line":7,"column":0},"generated":{"line":1,"column":105}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"getTimeDistanceForUnit","original":{"line":7,"column":9},"generated":{"line":1,"column":114}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d1","original":{"line":7,"column":32},"generated":{"line":1,"column":116}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d2","original":{"line":7,"column":36},"generated":{"line":1,"column":118}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"unit","original":{"line":7,"column":40},"generated":{"line":1,"column":120}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"fwd","original":{"line":8,"column":6},"generated":{"line":1,"column":123}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"num","original":{"line":8,"column":21},"generated":{"line":1,"column":127}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"tmp","original":{"line":8,"column":26},"generated":{"line":1,"column":129}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"fwd","original":{"line":8,"column":6},"generated":{"line":1,"column":131}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d2","original":{"line":8,"column":12},"generated":{"line":1,"column":133}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d1","original":{"line":8,"column":17},"generated":{"line":1,"column":135}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"unit","original":{"line":27,"column":6},"generated":{"line":1,"column":137}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"fwd","original":{"line":9,"column":7},"generated":{"line":1,"column":140}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"tmp","original":{"line":10,"column":4},"generated":{"line":1,"column":144}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d2","original":{"line":10,"column":10},"generated":{"line":1,"column":146}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d2","original":{"line":11,"column":4},"generated":{"line":1,"column":148}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d1","original":{"line":11,"column":10},"generated":{"line":1,"column":150}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d1","original":{"line":12,"column":4},"generated":{"line":1,"column":152}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"tmp","original":{"line":12,"column":10},"generated":{"line":1,"column":154}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"num","original":{"line":14,"column":2},"generated":{"line":1,"column":157}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d2","original":{"line":14,"column":8},"generated":{"line":1,"column":159}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d1","original":{"line":14,"column":13},"generated":{"line":1,"column":161}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"unit","original":{"line":15,"column":6},"generated":{"line":1,"column":163}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"multiplier","original":{"line":15,"column":11},"generated":{"line":1,"column":165}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","original":{"line":15,"column":24},"generated":{"line":1,"column":176}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"num","original":{"line":16,"column":4},"generated":{"line":1,"column":180}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"trunc","original":{"line":16,"column":10},"generated":{"line":1,"column":182}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"num","original":{"line":16,"column":16},"generated":{"line":1,"column":184}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"unit","original":{"line":16,"column":22},"generated":{"line":1,"column":186}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"multiplier","original":{"line":16,"column":27},"generated":{"line":1,"column":188}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"unit","original":{"line":27,"column":6},"generated":{"line":1,"column":201}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"ambiguous","original":{"line":27,"column":11},"generated":{"line":1,"column":203}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d1","original":{"line":33,"column":11},"generated":{"line":1,"column":213}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d1","original":{"line":28,"column":4},"generated":{"line":1,"column":217}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"cloneDate","original":{"line":28,"column":9},"generated":{"line":1,"column":219}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d1","original":{"line":28,"column":19},"generated":{"line":1,"column":221}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"num","original":{"line":29,"column":8},"generated":{"line":1,"column":224}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"num","original":{"line":30,"column":6},"generated":{"line":1,"column":228}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","original":{"line":30,"column":13},"generated":{"line":1,"column":231}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"advanceDate","original":{"line":31,"column":6},"generated":{"line":1,"column":233}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d1","original":{"line":31,"column":18},"generated":{"line":1,"column":235}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"unit","original":{"line":31,"column":22},"generated":{"line":1,"column":237}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"name","original":{"line":31,"column":27},"generated":{"line":1,"column":239}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"num","original":{"line":31,"column":33},"generated":{"line":1,"column":244}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d1","original":{"line":33,"column":11},"generated":{"line":1,"column":248}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d2","original":{"line":33,"column":16},"generated":{"line":1,"column":250}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"advanceDate","original":{"line":34,"column":6},"generated":{"line":1,"column":254}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d1","original":{"line":34,"column":18},"generated":{"line":1,"column":256}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"unit","original":{"line":34,"column":22},"generated":{"line":1,"column":258}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"name","original":{"line":34,"column":27},"generated":{"line":1,"column":260}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","original":{"line":34,"column":33},"generated":{"line":1,"column":265}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d1","original":{"line":35,"column":10},"generated":{"line":1,"column":270}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"d2","original":{"line":35,"column":15},"generated":{"line":1,"column":272}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"num","original":{"line":38,"column":6},"generated":{"line":1,"column":277}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","original":{"line":38,"column":13},"generated":{"line":1,"column":280}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"fwd","original":{"line":41,"column":9},"generated":{"line":1,"column":282}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"fwd","original":{"line":41,"column":9},"generated":{"line":1,"column":289}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"num","original":{"line":41,"column":16},"generated":{"line":1,"column":292}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"num","original":{"line":41,"column":22},"generated":{"line":1,"column":294}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"module","original":{"line":44,"column":0},"generated":{"line":1,"column":296}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"exports","original":{"line":44,"column":7},"generated":{"line":1,"column":303}},{"source":"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js","name":"getTimeDistanceForUnit","original":{"line":44,"column":17},"generated":{"line":1,"column":311}}],"sources":{"../node_modules/sugar/date/internal/getTimeDistanceForUnit.js":"'use strict';\n\nvar trunc = require('../../common/var/trunc'),\n    cloneDate = require('./cloneDate'),\n    advanceDate = require('./advanceDate');\n\nfunction getTimeDistanceForUnit(d1, d2, unit) {\n  var fwd = d2 > d1, num, tmp;\n  if (!fwd) {\n    tmp = d2;\n    d2  = d1;\n    d1  = tmp;\n  }\n  num = d2 - d1;\n  if (unit.multiplier > 1) {\n    num = trunc(num / unit.multiplier);\n  }\n  // For higher order with potential ambiguity, use the numeric calculation\n  // as a starting point, then iterate until we pass the target date. Decrement\n  // starting point by 1 to prevent overshooting the date due to inconsistencies\n  // in ambiguous units numerically. For example, calculating the number of days\n  // from the beginning of the year to August 5th at 11:59:59 by doing a simple\n  // d2 - d1 will produce different results depending on whether or not a\n  // timezone shift was encountered due to DST, however that should not have an\n  // effect on our calculation here, so subtract by 1 to ensure that the\n  // starting point has not already overshot our target date.\n  if (unit.ambiguous) {\n    d1 = cloneDate(d1);\n    if (num) {\n      num -= 1;\n      advanceDate(d1, unit.name, num);\n    }\n    while (d1 < d2) {\n      advanceDate(d1, unit.name, 1);\n      if (d1 > d2) {\n        break;\n      }\n      num += 1;\n    }\n  }\n  return fwd ? -num : num;\n}\n\nmodule.exports = getTimeDistanceForUnit;"},"lineCount":null}},"error":null,"hash":"1a1bfa7b157c827350dc1feec397f03b","cacheData":{"env":{}}}