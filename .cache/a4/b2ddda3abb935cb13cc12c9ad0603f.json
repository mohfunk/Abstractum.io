{"id":"tf/+","dependencies":[{"name":"/Users/moh/ws/moh/personal/moh.page/package.json","includedInParent":true,"mtime":1564574743497},{"name":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/package.json","includedInParent":true,"mtime":1564279111560},{"name":"../var/DateUnits","loc":{"line":3,"column":24},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/var/DateUnits.js"},{"name":"../var/DateUnitIndexes","loc":{"line":4,"column":30},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/var/DateUnitIndexes.js"},{"name":"../../common/var/trunc","loc":{"line":5,"column":20},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/common/var/trunc.js"},{"name":"./setDate","loc":{"line":6,"column":22},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/setDate.js"},{"name":"./getDate","loc":{"line":7,"column":22},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/getDate.js"},{"name":"./getMonth","loc":{"line":8,"column":23},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/getMonth.js"},{"name":"./getNewDate","loc":{"line":9,"column":25},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/getNewDate.js"},{"name":"./setWeekday","loc":{"line":10,"column":25},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/setWeekday.js"},{"name":"../../common/var/mathAliases","loc":{"line":11,"column":26},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/common/var/mathAliases.js"},{"name":"../../common/internal/callDateGet","loc":{"line":12,"column":26},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/common/internal/callDateGet.js"},{"name":"../../common/var/classChecks","loc":{"line":13,"column":26},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/common/var/classChecks.js"},{"name":"./resetLowerUnits","loc":{"line":14,"column":30},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/resetLowerUnits.js"},{"name":"./getLowerUnitIndex","loc":{"line":15,"column":32},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/getLowerUnitIndex.js"},{"name":"./getHigherUnitIndex","loc":{"line":16,"column":33},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/getHigherUnitIndex.js"},{"name":"./callDateSetWithWeek","loc":{"line":17,"column":34},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/callDateSetWithWeek.js"},{"name":"./iterateOverDateParams","loc":{"line":18,"column":36},"parent":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/updateDate.js","resolved":"/Users/moh/ws/moh/personal/moh.page/node_modules/sugar/date/internal/iterateOverDateParams.js"}],"generated":{"js":"\"use strict\";var e=require(\"../var/DateUnits\"),r=require(\"../var/DateUnitIndexes\"),i=require(\"../../common/var/trunc\"),t=require(\"./setDate\"),n=require(\"./getDate\"),u=require(\"./getMonth\"),a=require(\"./getNewDate\"),c=require(\"./setWeekday\"),s=require(\"../../common/var/mathAliases\"),o=require(\"../../common/internal/callDateGet\"),m=require(\"../../common/var/classChecks\"),l=require(\"./resetLowerUnits\"),q=require(\"./getLowerUnitIndex\"),f=require(\"./getHigherUnitIndex\"),D=require(\"./callDateSetWithWeek\"),d=require(\"./iterateOverDateParams\"),v=r.DAY_INDEX,g=r.WEEK_INDEX,h=r.MONTH_INDEX,p=r.YEAR_INDEX,y=s.round,E=m.isNumber;function I(r,s,m,I,N,w,k){var U,x;function T(a,m,l,d){var p,E,k=l.method;!function(e,r){N&&!U&&(U=\"weekday\"===e?g:f(r))}(a,d),function(e){e>s.specificity||(s.specificity=e)}(d),(E=m%1)&&(!function(r,i,t){if(i){var n=e[q(i)],u=y(r.multiplier/n.multiplier*t);s[n.name]=u}}(l,d,E),m=i(m)),\"weekday\"!==a?(p=d===h&&n(r)>28,!I||l.ambiguous?(I&&(d===g&&(m*=7,k=e[v].method),m=m*I+o(r,k)),D(r,k,m,I),p&&function(e,r){return r<0&&(r=r%12+12),r%12!==u(e)}(r,m)&&t(r,0)):r.setTime(r.getTime()+m*I*l.multiplier)):I||c(r,m,w)}if(E(s)&&I)s={millisecond:s};else if(E(s))return r.setTime(s),r;return d(s,T),m&&s.specificity&&l(r,s.specificity),function(){if(U&&!(U>p))switch(N){case-1:return r>=(k||a());case 1:return r<=(k||a())}}()&&(x=e[U],I=N,T(x.name,1,x,U)),r}module.exports=I;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"DateUnits","original":{"line":3,"column":4},"generated":{"line":1,"column":17}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":3,"column":16},"generated":{"line":1,"column":19}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":3,"column":24},"generated":{"line":1,"column":27}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"DateUnitIndexes","original":{"line":4,"column":4},"generated":{"line":1,"column":47}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":4,"column":22},"generated":{"line":1,"column":49}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":4,"column":30},"generated":{"line":1,"column":57}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"trunc","original":{"line":5,"column":4},"generated":{"line":1,"column":83}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":5,"column":12},"generated":{"line":1,"column":85}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":5,"column":20},"generated":{"line":1,"column":93}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"setDate","original":{"line":6,"column":4},"generated":{"line":1,"column":119}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":6,"column":14},"generated":{"line":1,"column":121}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":6,"column":22},"generated":{"line":1,"column":129}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"getDate","original":{"line":7,"column":4},"generated":{"line":1,"column":142}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":7,"column":14},"generated":{"line":1,"column":144}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":7,"column":22},"generated":{"line":1,"column":152}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"getMonth","original":{"line":8,"column":4},"generated":{"line":1,"column":165}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":8,"column":15},"generated":{"line":1,"column":167}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":8,"column":23},"generated":{"line":1,"column":175}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"getNewDate","original":{"line":9,"column":4},"generated":{"line":1,"column":189}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":9,"column":17},"generated":{"line":1,"column":191}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":9,"column":25},"generated":{"line":1,"column":199}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"setWeekday","original":{"line":10,"column":4},"generated":{"line":1,"column":215}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":10,"column":17},"generated":{"line":1,"column":217}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":10,"column":25},"generated":{"line":1,"column":225}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"mathAliases","original":{"line":11,"column":4},"generated":{"line":1,"column":241}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":11,"column":18},"generated":{"line":1,"column":243}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":11,"column":26},"generated":{"line":1,"column":251}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"callDateGet","original":{"line":12,"column":4},"generated":{"line":1,"column":283}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":12,"column":18},"generated":{"line":1,"column":285}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":12,"column":26},"generated":{"line":1,"column":293}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"classChecks","original":{"line":13,"column":4},"generated":{"line":1,"column":330}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":13,"column":18},"generated":{"line":1,"column":332}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":13,"column":26},"generated":{"line":1,"column":340}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"resetLowerUnits","original":{"line":14,"column":4},"generated":{"line":1,"column":372}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":14,"column":22},"generated":{"line":1,"column":374}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":14,"column":30},"generated":{"line":1,"column":382}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"getLowerUnitIndex","original":{"line":15,"column":4},"generated":{"line":1,"column":403}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":15,"column":24},"generated":{"line":1,"column":405}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":15,"column":32},"generated":{"line":1,"column":413}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"getHigherUnitIndex","original":{"line":16,"column":4},"generated":{"line":1,"column":436}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":16,"column":25},"generated":{"line":1,"column":438}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":16,"column":33},"generated":{"line":1,"column":446}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"callDateSetWithWeek","original":{"line":17,"column":4},"generated":{"line":1,"column":470}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":17,"column":26},"generated":{"line":1,"column":472}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":17,"column":34},"generated":{"line":1,"column":480}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"iterateOverDateParams","original":{"line":18,"column":4},"generated":{"line":1,"column":505}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"require","original":{"line":18,"column":28},"generated":{"line":1,"column":507}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":18,"column":36},"generated":{"line":1,"column":515}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"DAY_INDEX","original":{"line":20,"column":4},"generated":{"line":1,"column":542}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"DateUnitIndexes","original":{"line":20,"column":16},"generated":{"line":1,"column":544}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"DAY_INDEX","original":{"line":20,"column":32},"generated":{"line":1,"column":546}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"WEEK_INDEX","original":{"line":21,"column":4},"generated":{"line":1,"column":556}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"DateUnitIndexes","original":{"line":21,"column":17},"generated":{"line":1,"column":558}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"WEEK_INDEX","original":{"line":21,"column":33},"generated":{"line":1,"column":560}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"MONTH_INDEX","original":{"line":22,"column":4},"generated":{"line":1,"column":571}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"DateUnitIndexes","original":{"line":22,"column":18},"generated":{"line":1,"column":573}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"MONTH_INDEX","original":{"line":22,"column":34},"generated":{"line":1,"column":575}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"YEAR_INDEX","original":{"line":23,"column":4},"generated":{"line":1,"column":587}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"DateUnitIndexes","original":{"line":23,"column":17},"generated":{"line":1,"column":589}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"YEAR_INDEX","original":{"line":23,"column":33},"generated":{"line":1,"column":591}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"round","original":{"line":24,"column":4},"generated":{"line":1,"column":602}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"mathAliases","original":{"line":24,"column":12},"generated":{"line":1,"column":604}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"round","original":{"line":24,"column":24},"generated":{"line":1,"column":606}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"isNumber","original":{"line":25,"column":4},"generated":{"line":1,"column":612}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"classChecks","original":{"line":25,"column":15},"generated":{"line":1,"column":614}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"isNumber","original":{"line":25,"column":27},"generated":{"line":1,"column":616}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":27,"column":0},"generated":{"line":1,"column":625}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"updateDate","original":{"line":27,"column":9},"generated":{"line":1,"column":634}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":27,"column":20},"generated":{"line":1,"column":636}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"params","original":{"line":27,"column":23},"generated":{"line":1,"column":638}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"reset","original":{"line":27,"column":31},"generated":{"line":1,"column":640}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"advance","original":{"line":27,"column":38},"generated":{"line":1,"column":642}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"prefer","original":{"line":27,"column":47},"generated":{"line":1,"column":644}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"weekdayDir","original":{"line":27,"column":55},"generated":{"line":1,"column":646}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"contextDate","original":{"line":27,"column":67},"generated":{"line":1,"column":648}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"upperUnitIndex","original":{"line":28,"column":6},"generated":{"line":1,"column":651}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"upperUnitIndex","original":{"line":28,"column":6},"generated":{"line":1,"column":655}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unit","original":{"line":61,"column":8},"generated":{"line":1,"column":657}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"setUnit","original":{"line":81,"column":11},"generated":{"line":1,"column":659}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"setUnit","original":{"line":81,"column":11},"generated":{"line":1,"column":668}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitName","original":{"line":81,"column":19},"generated":{"line":1,"column":670}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"value","original":{"line":81,"column":29},"generated":{"line":1,"column":672}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unit","original":{"line":81,"column":36},"generated":{"line":1,"column":674}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":81,"column":42},"generated":{"line":1,"column":676}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"method","original":{"line":82,"column":8},"generated":{"line":1,"column":679}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"checkMonth","original":{"line":82,"column":30},"generated":{"line":1,"column":683}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"fraction","original":{"line":82,"column":42},"generated":{"line":1,"column":685}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"method","original":{"line":82,"column":8},"generated":{"line":1,"column":687}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unit","original":{"line":82,"column":17},"generated":{"line":1,"column":689}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"method","original":{"line":82,"column":22},"generated":{"line":1,"column":691}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"setUpperUnit","original":{"line":30,"column":11},"generated":{"line":1,"column":699}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitName","original":{"line":30,"column":24},"generated":{"line":1,"column":708}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":30,"column":34},"generated":{"line":1,"column":710}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"prefer","original":{"line":31,"column":8},"generated":{"line":1,"column":713}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"upperUnitIndex","original":{"line":31,"column":19},"generated":{"line":1,"column":717}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"upperUnitIndex","original":{"line":33,"column":8},"generated":{"line":1,"column":721}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":32,"column":23},"generated":{"line":1,"column":723}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitName","original":{"line":32,"column":10},"generated":{"line":1,"column":735}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"WEEK_INDEX","original":{"line":33,"column":25},"generated":{"line":1,"column":737}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"getHigherUnitIndex","original":{"line":35,"column":25},"generated":{"line":1,"column":739}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":35,"column":44},"generated":{"line":1,"column":741}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"setUpperUnit","original":{"line":84,"column":4},"generated":{"line":1,"column":745}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitName","original":{"line":84,"column":17},"generated":{"line":1,"column":746}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":84,"column":27},"generated":{"line":1,"column":748}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"setSpecificity","original":{"line":40,"column":11},"generated":{"line":1,"column":751}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":40,"column":26},"generated":{"line":1,"column":760}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":43,"column":8},"generated":{"line":1,"column":763}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"params","original":{"line":43,"column":20},"generated":{"line":1,"column":765}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"specificity","original":{"line":43,"column":27},"generated":{"line":1,"column":767}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"params","original":{"line":46,"column":4},"generated":{"line":1,"column":781}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"specificity","original":{"line":46,"column":11},"generated":{"line":1,"column":783}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":46,"column":25},"generated":{"line":1,"column":795}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"setSpecificity","original":{"line":85,"column":4},"generated":{"line":1,"column":798}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":85,"column":19},"generated":{"line":1,"column":799}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"fraction","original":{"line":87,"column":4},"generated":{"line":1,"column":803}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"value","original":{"line":87,"column":15},"generated":{"line":1,"column":805}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":87,"column":23},"generated":{"line":1,"column":807}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"handleFraction","original":{"line":66,"column":11},"generated":{"line":1,"column":813}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unit","original":{"line":66,"column":26},"generated":{"line":1,"column":822}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":66,"column":32},"generated":{"line":1,"column":824}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"fraction","original":{"line":66,"column":43},"generated":{"line":1,"column":826}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":67,"column":8},"generated":{"line":1,"column":829}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":67,"column":8},"generated":{"line":1,"column":832}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":67,"column":19},"generated":{"line":1,"column":834}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"lowerUnit","original":{"line":68,"column":10},"generated":{"line":1,"column":835}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"lowerUnit","original":{"line":68,"column":10},"generated":{"line":1,"column":839}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"DateUnits","original":{"line":68,"column":22},"generated":{"line":1,"column":841}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"getLowerUnitIndex","original":{"line":68,"column":32},"generated":{"line":1,"column":843}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":68,"column":50},"generated":{"line":1,"column":845}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"val","original":{"line":69,"column":10},"generated":{"line":1,"column":849}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"round","original":{"line":69,"column":16},"generated":{"line":1,"column":851}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unit","original":{"line":69,"column":22},"generated":{"line":1,"column":853}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"multiplier","original":{"line":69,"column":27},"generated":{"line":1,"column":855}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"lowerUnit","original":{"line":69,"column":40},"generated":{"line":1,"column":866}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"multiplier","original":{"line":69,"column":50},"generated":{"line":1,"column":868}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"fraction","original":{"line":69,"column":63},"generated":{"line":1,"column":879}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"params","original":{"line":70,"column":6},"generated":{"line":1,"column":882}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"lowerUnit","original":{"line":70,"column":13},"generated":{"line":1,"column":884}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"name","original":{"line":70,"column":23},"generated":{"line":1,"column":886}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"val","original":{"line":70,"column":31},"generated":{"line":1,"column":892}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"handleFraction","original":{"line":89,"column":6},"generated":{"line":1,"column":895}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unit","original":{"line":89,"column":21},"generated":{"line":1,"column":896}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":89,"column":27},"generated":{"line":1,"column":898}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"fraction","original":{"line":89,"column":38},"generated":{"line":1,"column":900}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"value","original":{"line":90,"column":6},"generated":{"line":1,"column":903}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"trunc","original":{"line":90,"column":14},"generated":{"line":1,"column":905}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"value","original":{"line":90,"column":20},"generated":{"line":1,"column":907}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":93,"column":21},"generated":{"line":1,"column":911}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitName","original":{"line":93,"column":8},"generated":{"line":1,"column":923}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"checkMonth","original":{"line":103,"column":4},"generated":{"line":1,"column":926}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":103,"column":17},"generated":{"line":1,"column":928}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"MONTH_INDEX","original":{"line":103,"column":31},"generated":{"line":1,"column":932}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"getDate","original":{"line":103,"column":46},"generated":{"line":1,"column":935}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":103,"column":54},"generated":{"line":1,"column":937}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":103,"column":59},"generated":{"line":1,"column":940}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"advance","original":{"line":127,"column":8},"generated":{"line":1,"column":944}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unit","original":{"line":127,"column":20},"generated":{"line":1,"column":947}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"ambiguous","original":{"line":127,"column":25},"generated":{"line":1,"column":949}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"advance","original":{"line":130,"column":15},"generated":{"line":1,"column":960}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unitIndex","original":{"line":131,"column":10},"generated":{"line":1,"column":964}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"WEEK_INDEX","original":{"line":131,"column":24},"generated":{"line":1,"column":968}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"value","original":{"line":132,"column":8},"generated":{"line":1,"column":972}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":132,"column":17},"generated":{"line":1,"column":975}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"method","original":{"line":133,"column":8},"generated":{"line":1,"column":977}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"DateUnits","original":{"line":133,"column":17},"generated":{"line":1,"column":979}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"DAY_INDEX","original":{"line":133,"column":27},"generated":{"line":1,"column":981}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"method","original":{"line":133,"column":38},"generated":{"line":1,"column":984}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"value","original":{"line":135,"column":6},"generated":{"line":1,"column":992}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"value","original":{"line":135,"column":15},"generated":{"line":1,"column":994}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"advance","original":{"line":135,"column":23},"generated":{"line":1,"column":996}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"callDateGet","original":{"line":135,"column":34},"generated":{"line":1,"column":998}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":135,"column":46},"generated":{"line":1,"column":1000}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"method","original":{"line":135,"column":49},"generated":{"line":1,"column":1002}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"callDateSetWithWeek","original":{"line":137,"column":4},"generated":{"line":1,"column":1006}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":137,"column":24},"generated":{"line":1,"column":1008}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"method","original":{"line":137,"column":27},"generated":{"line":1,"column":1010}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"value","original":{"line":137,"column":35},"generated":{"line":1,"column":1012}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"advance","original":{"line":137,"column":42},"generated":{"line":1,"column":1014}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"checkMonth","original":{"line":138,"column":8},"generated":{"line":1,"column":1017}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"monthHasShifted","original":{"line":74,"column":11},"generated":{"line":1,"column":1020}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":74,"column":27},"generated":{"line":1,"column":1029}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"targetMonth","original":{"line":74,"column":30},"generated":{"line":1,"column":1031}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"targetMonth","original":{"line":78,"column":11},"generated":{"line":1,"column":1034}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"targetMonth","original":{"line":75,"column":8},"generated":{"line":1,"column":1041}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":75,"column":22},"generated":{"line":1,"column":1043}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"targetMonth","original":{"line":76,"column":6},"generated":{"line":1,"column":1047}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"targetMonth","original":{"line":76,"column":20},"generated":{"line":1,"column":1049}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":76,"column":34},"generated":{"line":1,"column":1051}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":76,"column":39},"generated":{"line":1,"column":1054}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"targetMonth","original":{"line":78,"column":11},"generated":{"line":1,"column":1058}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":78,"column":25},"generated":{"line":1,"column":1060}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"getMonth","original":{"line":78,"column":32},"generated":{"line":1,"column":1065}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":78,"column":41},"generated":{"line":1,"column":1067}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"monthHasShifted","original":{"line":138,"column":22},"generated":{"line":1,"column":1070}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":138,"column":38},"generated":{"line":1,"column":1071}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"value","original":{"line":138,"column":41},"generated":{"line":1,"column":1073}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"setDate","original":{"line":143,"column":6},"generated":{"line":1,"column":1077}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":143,"column":14},"generated":{"line":1,"column":1079}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":143,"column":17},"generated":{"line":1,"column":1081}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":128,"column":6},"generated":{"line":1,"column":1085}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"setTime","original":{"line":128,"column":8},"generated":{"line":1,"column":1087}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":128,"column":16},"generated":{"line":1,"column":1095}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"getTime","original":{"line":128,"column":18},"generated":{"line":1,"column":1097}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"value","original":{"line":128,"column":31},"generated":{"line":1,"column":1107}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"advance","original":{"line":128,"column":39},"generated":{"line":1,"column":1109}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unit","original":{"line":128,"column":49},"generated":{"line":1,"column":1111}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"multiplier","original":{"line":128,"column":54},"generated":{"line":1,"column":1113}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"advance","original":{"line":94,"column":11},"generated":{"line":1,"column":1126}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"setWeekday","original":{"line":99,"column":8},"generated":{"line":1,"column":1129}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":99,"column":19},"generated":{"line":1,"column":1131}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"value","original":{"line":99,"column":22},"generated":{"line":1,"column":1133}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"weekdayDir","original":{"line":99,"column":29},"generated":{"line":1,"column":1135}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"isNumber","original":{"line":147,"column":6},"generated":{"line":1,"column":1138}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"isNumber","original":{"line":147,"column":6},"generated":{"line":1,"column":1141}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"params","original":{"line":147,"column":15},"generated":{"line":1,"column":1143}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"advance","original":{"line":147,"column":26},"generated":{"line":1,"column":1147}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"params","original":{"line":149,"column":4},"generated":{"line":1,"column":1149}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":149,"column":13},"generated":{"line":1,"column":1151}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"millisecond","original":{"line":149,"column":15},"generated":{"line":1,"column":1152}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"params","original":{"line":149,"column":28},"generated":{"line":1,"column":1164}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":150,"column":9},"generated":{"line":1,"column":1172}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"isNumber","original":{"line":150,"column":13},"generated":{"line":1,"column":1175}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"params","original":{"line":150,"column":22},"generated":{"line":1,"column":1177}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":153,"column":11},"generated":{"line":1,"column":1180}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":152,"column":4},"generated":{"line":1,"column":1187}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"setTime","original":{"line":152,"column":6},"generated":{"line":1,"column":1189}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"params","original":{"line":152,"column":14},"generated":{"line":1,"column":1197}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":153,"column":11},"generated":{"line":1,"column":1200}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":170,"column":9},"generated":{"line":1,"column":1202}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"iterateOverDateParams","original":{"line":156,"column":2},"generated":{"line":1,"column":1209}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"params","original":{"line":156,"column":24},"generated":{"line":1,"column":1211}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"setUnit","original":{"line":156,"column":32},"generated":{"line":1,"column":1213}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"reset","original":{"line":158,"column":6},"generated":{"line":1,"column":1216}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"params","original":{"line":158,"column":15},"generated":{"line":1,"column":1219}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"specificity","original":{"line":158,"column":22},"generated":{"line":1,"column":1221}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"resetLowerUnits","original":{"line":159,"column":4},"generated":{"line":1,"column":1234}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":159,"column":20},"generated":{"line":1,"column":1236}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"params","original":{"line":159,"column":23},"generated":{"line":1,"column":1238}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"specificity","original":{"line":159,"column":30},"generated":{"line":1,"column":1240}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"canDisambiguate","original":{"line":49,"column":11},"generated":{"line":1,"column":1253}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":50,"column":8},"generated":{"line":1,"column":1264}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"upperUnitIndex","original":{"line":50,"column":9},"generated":{"line":1,"column":1267}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"upperUnitIndex","original":{"line":50,"column":27},"generated":{"line":1,"column":1272}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"YEAR_INDEX","original":{"line":50,"column":44},"generated":{"line":1,"column":1274}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"prefer","original":{"line":54,"column":11},"generated":{"line":1,"column":1277}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"prefer","original":{"line":54,"column":11},"generated":{"line":1,"column":1284}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":55,"column":11},"generated":{"line":1,"column":1287}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":55,"column":12},"generated":{"line":1,"column":1292}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":55,"column":22},"generated":{"line":1,"column":1294}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":55,"column":22},"generated":{"line":1,"column":1301}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"contextDate","original":{"line":55,"column":28},"generated":{"line":1,"column":1305}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"getNewDate","original":{"line":55,"column":43},"generated":{"line":1,"column":1308}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":56,"column":12},"generated":{"line":1,"column":1313}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":56,"column":12},"generated":{"line":1,"column":1318}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":56,"column":22},"generated":{"line":1,"column":1320}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":56,"column":22},"generated":{"line":1,"column":1327}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"contextDate","original":{"line":56,"column":28},"generated":{"line":1,"column":1331}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"getNewDate","original":{"line":56,"column":43},"generated":{"line":1,"column":1334}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"canDisambiguate","original":{"line":167,"column":6},"generated":{"line":1,"column":1340}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unit","original":{"line":61,"column":8},"generated":{"line":1,"column":1345}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"DateUnits","original":{"line":61,"column":15},"generated":{"line":1,"column":1347}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"upperUnitIndex","original":{"line":61,"column":25},"generated":{"line":1,"column":1349}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"advance","original":{"line":62,"column":4},"generated":{"line":1,"column":1352}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"prefer","original":{"line":62,"column":14},"generated":{"line":1,"column":1354}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"setUnit","original":{"line":63,"column":4},"generated":{"line":1,"column":1356}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unit","original":{"line":63,"column":12},"generated":{"line":1,"column":1358}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"name","original":{"line":63,"column":17},"generated":{"line":1,"column":1360}},{"source":"../node_modules/sugar/date/internal/updateDate.js","original":{"line":63,"column":23},"generated":{"line":1,"column":1365}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"unit","original":{"line":63,"column":26},"generated":{"line":1,"column":1367}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"upperUnitIndex","original":{"line":63,"column":32},"generated":{"line":1,"column":1369}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"d","original":{"line":170,"column":9},"generated":{"line":1,"column":1373}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"module","original":{"line":173,"column":0},"generated":{"line":1,"column":1375}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"exports","original":{"line":173,"column":7},"generated":{"line":1,"column":1382}},{"source":"../node_modules/sugar/date/internal/updateDate.js","name":"updateDate","original":{"line":173,"column":17},"generated":{"line":1,"column":1390}}],"sources":{"../node_modules/sugar/date/internal/updateDate.js":"'use strict';\n\nvar DateUnits = require('../var/DateUnits'),\n    DateUnitIndexes = require('../var/DateUnitIndexes'),\n    trunc = require('../../common/var/trunc'),\n    setDate = require('./setDate'),\n    getDate = require('./getDate'),\n    getMonth = require('./getMonth'),\n    getNewDate = require('./getNewDate'),\n    setWeekday = require('./setWeekday'),\n    mathAliases = require('../../common/var/mathAliases'),\n    callDateGet = require('../../common/internal/callDateGet'),\n    classChecks = require('../../common/var/classChecks'),\n    resetLowerUnits = require('./resetLowerUnits'),\n    getLowerUnitIndex = require('./getLowerUnitIndex'),\n    getHigherUnitIndex = require('./getHigherUnitIndex'),\n    callDateSetWithWeek = require('./callDateSetWithWeek'),\n    iterateOverDateParams = require('./iterateOverDateParams');\n\nvar DAY_INDEX = DateUnitIndexes.DAY_INDEX,\n    WEEK_INDEX = DateUnitIndexes.WEEK_INDEX,\n    MONTH_INDEX = DateUnitIndexes.MONTH_INDEX,\n    YEAR_INDEX = DateUnitIndexes.YEAR_INDEX,\n    round = mathAliases.round,\n    isNumber = classChecks.isNumber;\n\nfunction updateDate(d, params, reset, advance, prefer, weekdayDir, contextDate) {\n  var upperUnitIndex;\n\n  function setUpperUnit(unitName, unitIndex) {\n    if (prefer && !upperUnitIndex) {\n      if (unitName === 'weekday') {\n        upperUnitIndex = WEEK_INDEX;\n      } else {\n        upperUnitIndex = getHigherUnitIndex(unitIndex);\n      }\n    }\n  }\n\n  function setSpecificity(unitIndex) {\n    // Other functions may preemptively set the specificity before arriving\n    // here so concede to them if they have already set more specific units.\n    if (unitIndex > params.specificity) {\n      return;\n    }\n    params.specificity = unitIndex;\n  }\n\n  function canDisambiguate() {\n    if (!upperUnitIndex || upperUnitIndex > YEAR_INDEX) {\n      return;\n    }\n\n    switch(prefer) {\n      case -1: return d >= (contextDate || getNewDate());\n      case  1: return d <= (contextDate || getNewDate());\n    }\n  }\n\n  function disambiguateHigherUnit() {\n    var unit = DateUnits[upperUnitIndex];\n    advance = prefer;\n    setUnit(unit.name, 1, unit, upperUnitIndex);\n  }\n\n  function handleFraction(unit, unitIndex, fraction) {\n    if (unitIndex) {\n      var lowerUnit = DateUnits[getLowerUnitIndex(unitIndex)];\n      var val = round(unit.multiplier / lowerUnit.multiplier * fraction);\n      params[lowerUnit.name] = val;\n    }\n  }\n\n  function monthHasShifted(d, targetMonth) {\n    if (targetMonth < 0) {\n      targetMonth = targetMonth % 12 + 12;\n    }\n    return targetMonth % 12 !== getMonth(d);\n  }\n\n  function setUnit(unitName, value, unit, unitIndex) {\n    var method = unit.method, checkMonth, fraction;\n\n    setUpperUnit(unitName, unitIndex);\n    setSpecificity(unitIndex);\n\n    fraction = value % 1;\n    if (fraction) {\n      handleFraction(unit, unitIndex, fraction);\n      value = trunc(value);\n    }\n\n    if (unitName === 'weekday') {\n      if (!advance) {\n        // Weekdays are always considered absolute units so simply set them\n        // here even if it is an \"advance\" operation. This is to help avoid\n        // ambiguous meanings in \"advance\" as well as to neatly allow formats\n        // like \"Wednesday of next week\" without more complex logic.\n        setWeekday(d, value, weekdayDir);\n      }\n      return;\n    }\n    checkMonth = unitIndex === MONTH_INDEX && getDate(d) > 28;\n\n    // If we are advancing or rewinding, then we need we need to set the\n    // absolute time if the unit is \"hours\" or less. This is due to the fact\n    // that setting by method is ambiguous during DST shifts. For example,\n    // 1:00am on November 1st 2015 occurs twice in North American timezones\n    // with DST, the second time being after the clocks are rolled back at\n    // 2:00am. When springing forward this is automatically handled as there\n    // is no 2:00am so the date automatically jumps to 3:00am. However, when\n    // rolling back, setHours(2) will always choose the first \"2am\" even if\n    // the date is currently set to the second, causing unintended jumps.\n    // This ambiguity is unavoidable when setting dates as the notation is\n    // ambiguous. However when advancing, we clearly want the resulting date\n    // to be an acutal hour ahead, which can only be accomplished by setting\n    // the absolute time. Conversely, any unit higher than \"hours\" MUST use\n    // the internal set methods, as they are ambiguous as absolute units of\n    // time. Years may be 365 or 366 days depending on leap years, months are\n    // all over the place, and even days may be 23-25 hours depending on DST\n    // shifts. Finally, note that the kind of jumping described above will\n    // occur when calling ANY \"set\" method on the date and will occur even if\n    // the value being set is identical to the one currently set (i.e.\n    // setHours(2) on a date at 2am may not be a noop). This is precarious,\n    // so avoiding this situation in callDateSet by checking up front that\n    // the value is not the same before setting.\n    if (advance && !unit.ambiguous) {\n      d.setTime(d.getTime() + (value * advance * unit.multiplier));\n      return;\n    } else if (advance) {\n      if (unitIndex === WEEK_INDEX) {\n        value *= 7;\n        method = DateUnits[DAY_INDEX].method;\n      }\n      value = (value * advance) + callDateGet(d, method);\n    }\n    callDateSetWithWeek(d, method, value, advance);\n    if (checkMonth && monthHasShifted(d, value)) {\n      // As we are setting the units in reverse order, there is a chance that\n      // our date may accidentally traverse into a new month, such as setting\n      // { month: 1, date 15 } on January 31st. Check for this here and reset\n      // the date to the last day of the previous month if this has happened.\n      setDate(d, 0);\n    }\n  }\n\n  if (isNumber(params) && advance) {\n    // If param is a number and advancing, the number is in milliseconds.\n    params = { millisecond: params };\n  } else if (isNumber(params)) {\n    // Otherwise just set the timestamp and return.\n    d.setTime(params);\n    return d;\n  }\n\n  iterateOverDateParams(params, setUnit);\n\n  if (reset && params.specificity) {\n    resetLowerUnits(d, params.specificity);\n  }\n\n  // If past or future is preferred, then the process of \"disambiguation\" will\n  // ensure that an ambiguous time/date (\"4pm\", \"thursday\", \"June\", etc.) will\n  // be in the past or future. Weeks are only considered ambiguous if there is\n  // a weekday, i.e. \"thursday\" is an ambiguous week, but \"the 4th\" is an\n  // ambiguous month.\n  if (canDisambiguate()) {\n    disambiguateHigherUnit();\n  }\n  return d;\n}\n\nmodule.exports = updateDate;"},"lineCount":null}},"error":null,"hash":"570a2983e34ddd440dd6a4f7b2ad69f7","cacheData":{"env":{}}}